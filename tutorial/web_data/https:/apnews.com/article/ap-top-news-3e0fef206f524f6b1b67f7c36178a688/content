WASHINGTON (AP) — Congressional leaders unveiled a government-wide $1.7 trillion spending package early Tuesday that includes another large round of aid to Ukraine, a nearly 10% boost in defense spending and roughly $40 billion in emergency spending, mostly to assist communities across the country recovering from drought, hurricanes and other natural disasters.
The bill, which runs for 4,155 pages, includes about $772.5 billion for non-defense, discretionary programs and $858 billion for defense and would last through the end of the fiscal year at the end of September.
Lawmakers worked to stuff as many priorities as they could into the sprawling package, likely the last major bill of the current Congress. They are racing to complete passage before a midnight Friday deadline or face the prospect of a partial government shutdown going into the Christmas holiday.
Lawmakers leading the negotiations released the details of the bill shortly before 2 a.m. Tuesday.
The spending package includes about $45 billion in emergency assistance to Ukraine. It would be the biggest American infusion of assistance yet to Ukraine, above even President Joe Biden’s $37 billion emergency request, and ensure that funding flows to the war effort for months to come.
The U.S. has provided about $68 billion to Ukraine in previous rounds of military, economic and humanitarian assistance. 

        
    
“The bitterness of winter has descended on Eastern Europe, and if our friends in Ukraine hope to triumph Russia, America must stand firmly on the side of our democratic friends abroad,” said Senate Majority Leader Chuck Schumer, D-N.Y.
The legislation also includes historic revisions to federal election law that aim to prevent any future presidents or presidential candidates from trying to overturn an election. The bipartisan overhaul of the Electoral Count Act is in direct response to former President Donald Trump’s efforts to convince Republican lawmakers and then-Vice President Mike Pence to object to the certification of Biden’s victory on Jan. 6, 2021.
“We are now one step closer to protecting our democracy and preventing another January 6th,” said Sen. Amy Klobuchar, D-Minn.
Senate Republican leader Mitch McConnell had warned that if the fiscal year 2023 spending measure failed to gain bipartisan support this week, he would seek another short-term patch into next year, guaranteeing that the new Republican majority in the House would get to shape the package. 
McConnell said the GOP’s negotiations were successful in the end. He framed the longer-term spending bill as a victory for the GOP, even as many Republicans will undoubtedly vote against it. He said Republicans succeeded in increasing defense spending far beyond Biden’s request while scaling back some of the increase Biden wanted for domestic spending. 
“We’ve transferred huge sums of money away from Democrats’ spending wish list toward our national defense and armed forces, but without allowing the overall cost of the package to go higher,” McConnell said.
But a group of 13 current and incoming House Republicans has threatened to oppose the legislative priorities next year of any senators who vote for the bill, including McConnell. And the next likely speaker of the House, Rep. Kevin McCarthy, R-Calif., tweeted Tuesday that he agreed with them.
“When I’m Speaker, their bills will be dead on arrival in the House if this nearly $2T monstrosity is allowed to move forward over our objections and the will of the American people,” McCarthy tweeted.
Sen. John Thune, the No. 2-ranking Republican in the Senate, told reporters “tensions are high in the House. There’s a lot going on there right now, but in the end, I think when the dust settles and the smoke clears, Republicans in the House and Senate will have to figure out a way to work together next year.”
Shalanda Young, director of the Office of Management and Budget, said in a statement that neither side got everything it wanted. But she praised the deal as “good for our economy, our competitiveness, and our country, and I urge Congress to send it to the President’s desk without delay.”
The spending on non-defense programs will increase by about 6%. That number includes a 22% increase for VA medical care to help pay for an expansion of health care services and benefits to veterans exposed to toxic burn pits during their service. Some environmental advocacy groups expressed frustration with the spending for agencies such as the Environmental Protection Agency and the National Park Service, which they said doesn’t keep up with inflation.
The bill’s unveiling was delayed for several hours by haggling over language related to the 
location of the FBI’s future headquarters
. Maryland lawmakers have argued that ensuring predominately Black communities get their fair share of federal investments should be a bigger consideration in the selection process. They are advocating for building the headquarters at one of two sites in Maryland’s Prince George’s County, a majority-Black county. Virginia is also competing for the headquarters.
A provision was included in the bill to ensure the General Service Administration would conduct “separate and detailed consultations” with people representing the Maryland and Virginia sites to get their perspectives before a decision is reached.
The spending bill contains scores of policy changes that lawmakers worked furiously to include to avoid having to start over in the new Congress next year.
Examples include a provision from Sen. Josh Hawley, R-Mo., that bans TikTok on government cell phones due to security concerns. Another provision added at the request of Maine lawmakers secured a six-year pause on regulations for the lobster and Jonah crab fisheries that were proposed to help save endangered North Atlantic right whales by reducing their risk of entanglement in fishing gear. 
The lawmakers contend the regulations would threaten those industries without meaningfully protecting whales, but environmental advocacy groups assailed the pause.
“A hundred years from now, no one will remember or care about the trivial victories Democrats will try to claim in this legislation, but they’ll mourn the loss of the right whale,” said Brett Hartl, government affairs director at the Center for Biological Diversity, in a scathing response.
Some proposed policy changes failed to make the final cut after months of negotiations, disappointing those who saw the legislation, referred to as the omnibus, as their last, best chance for quick action.
Democrats fell short, for example, in their effort to expand the Child Tax Credit. Also omitted was bipartisan legislation that would have allowed tens of thousands of Afghans admitted to the U.S. to apply for lawful permanent residency after clearing additional background checks.
On the health care front, the bill requires states to keep children enrolled in Medicaid on coverage for at least a year, which advocates say increases access to preventative care, but the bill helps pay for that investment by allowing states to move more quickly to end Medicaid coverage for some of the millions of people who were extended that benefit when the federal government declared the COVID-19 pandemic a public health emergency.
Lawmakers are nearing completion of the 2023 spending package nearly three months late. It was supposed to be finished by Oct. 1, when the government’s fiscal year began.
The last time Congress enacted all its spending bills by then was in 1996, when the Senate finished its work on Sept. 30, the very last day of the budget year. Then-President Bill Clinton signed it that same day.
The Senate is expected to vote on the spending bill first, and support from at least 10 Republican senators will be needed to pass it before it is considered by the House. 
AP staff writers Mary Clare Jalonick and Amanda Seitz contributed to this report.
