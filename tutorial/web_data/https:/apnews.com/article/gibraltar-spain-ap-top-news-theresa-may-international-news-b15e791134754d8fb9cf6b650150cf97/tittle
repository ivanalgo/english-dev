Brexit deal almost done, but Spain holds out over Gibraltar
