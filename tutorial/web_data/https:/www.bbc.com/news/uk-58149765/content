David Cameron made about $10m (£7m) from Greensill Capital before the finance company collapsed, documents obtained by BBC Panorama suggest.
The documents indicate the former prime minister received $4.5m after cashing in Greensill shares in 2019.
Greensill, which made its money by lending to businesses, went into administration in March, leaving investors facing billions in losses.
Mr Cameron's spokesman said his remuneration was a private matter.
Greensill collapsed after its insurer refused to renew cover for the loans it was making.
Before its collapse, Mr Cameron unsuccessfully tried to persuade ministers to invest taxpayers' money in Greensill loans. 
He has since been cleared of breaking any lobbying rules, but MPs said the former prime minister showed a "significant lack of judgement".
The details about Mr Cameron's shares were revealed in a letter from Greensill Capital to the former prime minister.
According to the letter, Mr Cameron was going to be paid $4,569,851.60 (about £3.3m) after tax for a tranche of his Greensill shares.
Panorama has not seen Mr Cameron's signed acceptance of the offer, but the letter records that he had already agreed to the deal.
As well as the shares, Mr Cameron received a salary of $1m (£720,000) a year as a part-time adviser.
The programme also understands that the former prime minister was paid a bonus of $700,000 (£504,000) in 2019 on top of his salary.
In total, it looks like he made around $10m before tax for two-and-a-half years' part-time work.
Mr Cameron's spokesman said: "He acted in good faith at all times and there was no wrongdoing in any of the actions he took."
Panorama: David Cameron and the Missing Billions is on BBC One at 19:35 BST on Monday or later on iPlayer
Panorama has discovered how the company Mr Cameron promoted has left investors and UK taxpayers facing huge losses.
Greensill Capital lent around $5bn (£3.6bn) to GFG Alliance - a group of companies controlled by the steel magnate Sanjeev Gupta.
GFG employs 35,000 people around the world, including more than 4,000 at steel mills in the UK.
Internal documents reveal that Greensill Capital knew GFG was in financial trouble by the start of 2020 because it was unable to make payments on Greensill loans.
But Greensill used its own cash to cover repayments GFG could not afford - leaving investors unaware of the problems.
An email sent by a Greensill finance officer to a senior manager in April 2020 said that the unusual payments had been going on for four months.
It said: "We are constantly plugging holes that GFG cannot afford to repay... It is not even robbing Peter to pay Paul, it is just recirculation of Greensill funds."
A second email sent at the start of May suggests an insolvency practitioner should be sent in to review Mr Gupta's businesses. It said: "It may well be that administration is required."
Instead of raising the alarm about GFG's inability to make loan payments, Greensill Capital looked for a new investor. 
It turned to the UK government - and David Cameron was sent in to try to make it happen.
Mr Cameron sent 56 messages lobbying ministers and senior civil servants. He wanted the Bank of England to invest more than £10bn of taxpayers' money in Greensill's loans. 
The Bank of England turned Greensill down, but in June 2020 Greensill was approved as a lender under a government scheme designed to get emergency cash to companies affected by the coronavirus pandemic.
The Coronavirus Large Business Interruption Loan (CLBIL) scheme run by the government-owned British Business Bank allowed Greensill to make loans backed by an 80% taxpayer guarantee. 
Greensill was only supposed to lend a maximum of £50m to a single borrower or group of companies under the CLBIL scheme.
But Greensill Capital lent Mr Gupta's GFG Alliance £350m by making seven taxpayer-backed loans of £50m to seven of his companies.
Greensill also made an eighth loan of £50m to another company closely associated with Mr Gupta.
The companies have all failed to make repayments on the taxpayer-backed loans.
The government guarantee has been suspended while the loans are investigated - but that is being challenged and the taxpayer could still lose £320m.
Mr Gupta's company, GFG Alliance, and its financing arrangements with Greensill Capital, are now being investigated by the Serious Fraud Office.
GFG Alliance said it takes the investigation seriously and that all allegations of improper conduct are denied in the strongest terms. 
The company said it has been working tirelessly to stabilise the businesses affected by the collapse of Greensill and deliver refinancing. 
GFG said: "We remain fully committed to UK industry and to a solution that will enable GFG to repay creditors and create a sustainable future for its UK businesses." 
Lex Greensill, the founder of Greensill Capital, said the government guarantee on the loans should not be withdrawn.
"Our access to any government-backed schemes with respect to funding our clients has always drawn upon robust advice from leading law firms to ensure Greensill complied with relevant rules," he said.
He also said he was not aware his staff had recommended sending in an insolvency practitioner to GFG.
Mr Cameron's spokesman said he was not involved in lending decisions and had no knowledge of GFG's financial situation.
"He was a part-time adviser to the company - one of several - and had no Executive or Board responsibilities whatsoever," he said.
"He made the representations he did to the UK government not just because he thought it would benefit the company, but because he sincerely believed there would be a material benefit for UK businesses at a challenging time."
Panorama has also discovered how investors were misled about Greensill Capital's investments.
Greensill made money through supply chain finance - which involves making loans to companies that are waiting for invoices to be paid by their customers.
When the invoices were paid, the cash would be there to pay investors back, with interest.
To fund the loans, it teamed up with Swiss bank Credit Suisse, which raised $10bn from investors.
It was the Swiss bank's job to market and sell the Greensill investments, and to inform investors about potential risks. 
Investors thought their cash was safe, because it was supposed to be secured against the unpaid invoices.
But this year it was revealed that some of the invoices simply did not exist.
US court papers show how between 2018 and 2021, Greensill lent $850m of investors' cash to a US coal company called Bluestone Resources.
Only $70m of that money was secured against real invoices for coal that Bluestone had actually sold.
Investors did not know it, but the remaining $780m was only backed by predicted coal sales that may or may not happen in the future. 
Lex Greensill told Panorama that this type of financing was commonplace in the financial services industry.
He said the predicted Bluestone business was all "based upon future trade that is likely to occur with current customers".
Panorama discovered that was not true.
The programme obtained the names of the companies that Lex Greensill said were current customers of Bluestone.
Six of the companies said they were not Bluestone customers and they weren't planning to buy its coal in the future.
Lex Greensill later told Panorama the coal buyers did not have to be current customers. Bluestone only had to state it expected to make the sales at some future point and Greensill was not obliged to make checks, he said.
Mr Greensill denied misleading investors. He said his company made all the appropriate disclosures to Credit Suisse and the Swiss Bank was "solely responsible for making any disclosures to their investors".
He said the loans were always secured against assets and personal guarantees, and were backed up by insurance that would pay 100% of any shortfall. 
Credit Suisse says its focus is on returning cash to investors and that 59% has been returned so far.
Panorama: David Cameron and the Missing Billions is on BBC One at 19:35 BST on Monday or later on iPlayer
