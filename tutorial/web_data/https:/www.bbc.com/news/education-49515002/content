Schools in England are being promised billions more in spending over the next three years, in an announcement from Prime Minister Boris Johnson.
Next year schools will receive a £2.6bn uplift, rising to £4.8bn the following year - with schools spending £7.1bn more than at present by 2022-23.
It follows a campaign by school leaders warning of worsening budget shortages.
Head teachers' leader Geoff Barton said the extra cash was a recognition of the "severity of the funding crisis".
The prime minister said he wanted to "ensure all young people get the best possible start in life. That means the right funding".
"We should not accept the idea that there can be 'winners or losers' when it comes to our children's futures," said Mr Johnson. 
"That's why we are providing additional funding now and for the future for every school, with those historically underfunded receiving the greatest increase."
School leaders have been protesting about funding shortages - with head teachers writing to millions of parents with warnings about schools running out of cash.
But the Institute for Fiscal Studies (IFS) says the funding increase should be enough to restore school spending to pre-austerity levels.
The independent financial think tank said the £7.1bn increase, promised in three years, will be sufficient to reverse cuts to schools of 8% over the past decade.
"This package represents a large increase in spending per pupil, taking it back to about the same level it was in 2009-10," said Luke Sibieta, a research fellow at the IFS.
"However, a 13-year period of no net growth in school spending per pupil, after inflation, still represents a significant squeeze on school budgets when considered in historical terms."
The cash injection will include £700m extra for special needs pupils and new minimum levels of per pupil funding.
Secondary schools will have at least £5,000 per pupil from next year and from 2021 primary schools will have a minimum threshold of £4,000 per pupil.
There were already spending increases in the pipeline - such as for rising numbers of pupils - but this announcement provides additional funding above this.
It is also on top of an extra £1.5bn per year to cover rises in teachers' pension costs.
School leaders responded with a mix of guarded welcomes and a warning that they wanted to check the details before ending their protests.
"After five years of disappointment on funding, I'm sure the prime minster would forgive us only giving this a cautious welcome," said Paul Whiteman, leader of the National Association of Head Teachers.
"We hope that this announcement is as good as it looks," said Mr Whiteman. But he warned it would be "disastrous if the detail did not live up to the headline".
by Robert Cuffe, BBC head of statistics
Boris Johnson's announcement of extra money for schools will be welcome to many, but do the sums add up? 
The prime minister said he would invest "over £14bn in primary and secondary education between now and 2022/23".   
That includes an additional £2.6bn next year, £4.8bn the year after that and £7.1bn in 2022-23. 
When you add all three together, you get £14.5bn, but that's not normally how we talk about spending increases. 
We talk about budgets for each individual year, so usual practice is to pick a year (normally the last, with the biggest increase) and use that to measure the generosity of pledges. 
For example, Theresa May's increased spending for the NHS was described as "an extra £20bn a year by 2023".
Describing this as a £14bn increase would make the government seem more generous than it is in fact being.
Geoff Barton, leader of the ASCL head teachers' union, welcomed the promise of higher funding, but highlighted that there was "great political uncertainty" about making financial promises beyond this year.
"The crisis is now and extra funding is needed as soon as possible," said Mr Barton.
Head teachers have been staging protest marches over funding - with further planned for this autumn - but organiser Jules White said the heads would now assess the government's plans in detail before deciding how to proceed.
Kevin Courtney, joint leader of the National Education Union, welcomed a longer-term, three-year funding plan.
But he said the announcement "should really come with a note of apology as the government has for so long derided our campaign and said there was no problem with education funding".
Angela Rayner MP, Labour's shadow education secretary, rejected the funding plan as a "con trick" which would fail to reverse previous cuts.
She said schools were still being "told to wait years for desperately needed funding".
